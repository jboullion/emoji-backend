import{d as k,r as m,E as g,c as _,g as u,a as i,F as C,x as S,l as E,u as n,h as f,f as w,t as v,z as L,p as B,b as P,G as T,H as I,e as N,o as b}from"./vendor.1d2f60e7.js";import{v as j,a as q}from"./validation.36d38792.js";import{_ as A,g as U,a as h}from"./index.11f52fc9.js";import{T as $}from"./Title.608e70fc.js";const y=c=>(B("data-v-6f9817de"),c=c(),P(),c),z={id:"login",class:"page"},D=["onSubmit"],G={class:"alert alert-danger mb-4"},H={class:"form-btns"},M=["disabled"],O=y(()=>i("span",null,"\u{1F3B2}",-1)),Q=y(()=>i("span",null,"\u{1F4CB}",-1)),R=w(" Create Account"),J=w(" \u2754 Forgot Password "),K=k({setup(c){const p=m(!1);T();const F=I("authService"),t=m(!1),d=m([]),a=g({email:U("email"),password:""}),o=g({email:"",password:""});function V(){let r=!0;d.value=[],o.email="",o.password="",o.email=j(a.email),o.email&&(r=!1),o.password=q(a.password),o.password&&(r=!1),r&&x()}async function x(){var r,s;try{t.value=!0;const e={email:a.email,password:a.password};(await F.signin(e)).accessToken}catch(e){e.response&&(((r=e.response.data)==null?void 0:r.statusCode)===400?d.value=e.response.data.message:((s=e.response.data)==null?void 0:s.statusCode)===401&&d.value.push(e.response.data.message))}finally{t.value=!1}}return(r,s)=>{const e=N("router-link");return b(),_("div",z,[u($,{title:"Login"}),i("form",{onSubmit:L(V,["prevent"]),class:"",novalidate:"",autocomplete:"off"},[d.value.length?(b(!0),_(C,{key:0},S(d.value,l=>(b(),_("div",G," \u26A0\uFE0F "+v(l),1))),256)):E("",!0),u(h,{class:"mb-3",label:"Email",id:"emoji-email",type:"email",modelValue:n(a).email,"onUpdate:modelValue":s[0]||(s[0]=l=>n(a).email=l),disabled:t.value,required:"",error:n(o).email},null,8,["modelValue","disabled","error"]),u(h,{class:"mb-4",label:"Password",id:"password",type:"password",modelValue:n(a).password,"onUpdate:modelValue":s[2]||(s[2]=l=>n(a).password=l),disabled:t.value,required:"",error:n(o).password},{button:f(()=>[i("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=l=>p.value=!p.value),"aria-label":"Toggle Show Old Password"},[i("span",null,v(p.value?"\u{1F576}\uFE0F":"\u{1F453}"),1)])]),_:1},8,["modelValue","disabled","error"]),i("div",H,[i("button",{type:"submit",class:"btn btn-primary w-100 mb-3 fs-5",disabled:t.value},[O,w(" "+v(t.value?"Loading...":"Login"),1)],8,M),u(e,{to:"/register",class:"btn btn-outline-secondary w-100 mb-3 fs-5"},{default:f(()=>[Q,R]),_:1}),u(e,{to:"/forgot-password",class:"w-100 mb-3 text-center d-block text-dark text-decoration-none",disabled:t.value},{default:f(()=>[J]),_:1},8,["disabled"])])],40,D)])}}});var ee=A(K,[["__scopeId","data-v-6f9817de"]]);export{ee as default};
