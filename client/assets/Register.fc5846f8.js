import{d as S,r as p,H as k,I as E,J as f,e as B,o as _,c as F,g as n,a as l,j as R,l as I,u as o,h as v,t as b,f as w,A as U,p as N,b as P}from"./vendor.d86d1c24.js";import{b as $,v as q,a as T}from"./validation.36d38792.js";import{_ as j,a as c,b as A}from"./index.4d96d4fc.js";import{C as L}from"./CommonTitle.207c5bbe.js";import{_ as D}from"./ErrorAlert.7b4db770.js";const g=d=>(N("data-v-5f1f79f3"),d=d(),P(),d),H={id:"register",class:"page"},J=["onSubmit"],M={class:"form-btns"},O=["disabled"],z=g(()=>l("span",null,"\u{1F4CB}",-1)),G=g(()=>l("span",null,"\u{1F3B2}",-1)),K=w(" Login"),Q=S({setup(d){const u=p(!1),h=k(),y=E("authService"),t=p(!1),m=p([]),e=f({username:"",email:"",password:""}),a=f({username:"",email:"",password:""});function V(){let r=!0;m.value=[],a.username="",a.email="",a.password="",a.username=$(e.username),a.username&&(r=!1),a.email=q(e.email),a.email&&(r=!1),a.password=T(e.password),a.password&&(r=!1),r&&C()}async function C(){try{t.value=!0;const r={username:e.username,email:e.email,password:e.password};(await y.signup(r)).id&&h.push({path:"/login?email="+e.email})}catch(r){const s=A(r);s&&m.value.push(s)}finally{t.value=!1}}return(r,s)=>{const x=B("router-link");return _(),F("div",H,[n(L,{title:"Register"}),l("form",{onSubmit:U(V,["prevent"]),class:"",novalidate:""},[m.value.length?(_(),R(D,{key:0,errors:m.value},null,8,["errors"])):I("",!0),n(c,{wrapClass:"mb-3",label:"Username",id:"username",type:"text",modelValue:o(e).username,"onUpdate:modelValue":s[0]||(s[0]=i=>o(e).username=i),disabled:t.value,required:"",error:o(a).username,description:"3-20 characters long"},null,8,["modelValue","disabled","error"]),n(c,{wrapClass:"mb-3",label:"Email",id:"email",type:"email",modelValue:o(e).email,"onUpdate:modelValue":s[1]||(s[1]=i=>o(e).email=i),disabled:t.value,required:"",error:o(a).email},null,8,["modelValue","disabled","error"]),n(c,{wrapClass:"mb-4",label:"Password",id:"password",type:u.value?"text":"password",modelValue:o(e).password,"onUpdate:modelValue":s[3]||(s[3]=i=>o(e).password=i),disabled:t.value,required:"",error:o(a).password,description:"8-32 characters long"},{button:v(()=>[l("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=i=>u.value=!u.value),"aria-label":"Toggle Show Old Password"},[l("span",null,b(u.value?"\u{1F576}\uFE0F":"\u{1F453}"),1)])]),_:1},8,["type","modelValue","disabled","error"]),l("div",M,[l("button",{type:"submit",class:"btn btn-primary w-100 mb-3 fs-5",disabled:t.value},[z,w(" "+b(t.value?"Loading...":"Register"),1)],8,O),n(x,{to:"/login",class:"btn btn-outline-secondary w-100 mb-3 fs-5"},{default:v(()=>[G,K]),_:1})])],40,J)])}}});var ae=j(Q,[["__scopeId","data-v-5f1f79f3"]]);export{ae as default};
