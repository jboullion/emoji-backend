import{d as x,r as c,H as k,I as E,J as w,e as R,o as f,c as v,g as d,a as i,F as B,y as I,l as U,u as r,h as g,t as _,f as h,A as N,p as P,b as T}from"./vendor.e42f0259.js";import{b as q,v as L,a as $}from"./validation.36d38792.js";import{_ as A,a as b}from"./index.0bf825a6.js";import{T as j}from"./Title.c3de74d2.js";const y=u=>(P("data-v-4601f2ca"),u=u(),T(),u),D={id:"register",class:"page"},H=["onSubmit"],J={class:"alert alert-danger mb-4"},M={class:"form-btns"},O=["disabled"],z=y(()=>i("span",null,"\u{1F4CB}",-1)),G=y(()=>i("span",null,"\u{1F3B2}",-1)),K=h(" Login"),Q=x({setup(u){const m=c(!1),V=k(),C=E("authService"),l=c(!1),n=c([]),s=w({username:"",email:"",password:""}),a=w({username:"",email:"",password:""});function F(){let o=!0;n.value=[],a.username="",a.email="",a.password="",a.username=q(s.username),a.username&&(o=!1),a.email=L(s.email),a.email&&(o=!1),a.password=$(s.password),a.password&&(o=!1),o&&S()}async function S(){var o,t,p;try{l.value=!0;const e={username:s.username,email:s.email,password:s.password};(await C.signup(e)).id&&V.push({path:"/login?email="+s.email})}catch(e){e.response&&(((o=e.response.data)==null?void 0:o.statusCode)===400?n.value=e.response.data.message:(((t=e.response.data)==null?void 0:t.statusCode)===401||((p=e.response.data)==null?void 0:p.statusCode)===409)&&n.value.push(e.response.data.message))}finally{l.value=!1}}return(o,t)=>{const p=R("router-link");return f(),v("div",D,[d(j,{title:"Register"}),i("form",{onSubmit:N(F,["prevent"]),class:"",novalidate:""},[n.value.length?(f(!0),v(B,{key:0},I(n.value,e=>(f(),v("div",J," \u26A0\uFE0F "+_(e),1))),256)):U("",!0),d(b,{wrapClass:"mb-3",label:"Username",id:"username",type:"text",modelValue:r(s).username,"onUpdate:modelValue":t[0]||(t[0]=e=>r(s).username=e),disabled:l.value,required:"",error:r(a).username,description:"3-20 characters long"},null,8,["modelValue","disabled","error"]),d(b,{wrapClass:"mb-3",label:"Email",id:"email",type:"email",modelValue:r(s).email,"onUpdate:modelValue":t[1]||(t[1]=e=>r(s).email=e),disabled:l.value,required:"",error:r(a).email},null,8,["modelValue","disabled","error"]),d(b,{wrapClass:"mb-4",label:"Password",id:"password",type:m.value?"text":"password",modelValue:r(s).password,"onUpdate:modelValue":t[3]||(t[3]=e=>r(s).password=e),disabled:l.value,required:"",error:r(a).password,description:"8-32 characters long"},{button:g(()=>[i("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=e=>m.value=!m.value),"aria-label":"Toggle Show Old Password"},[i("span",null,_(m.value?"\u{1F576}\uFE0F":"\u{1F453}"),1)])]),_:1},8,["type","modelValue","disabled","error"]),i("div",M,[i("button",{type:"submit",class:"btn btn-primary w-100 mb-3 fs-5",disabled:l.value},[z,h(" "+_(l.value?"Loading...":"Register"),1)],8,O),d(p,{to:"/login",class:"btn btn-outline-secondary w-100 mb-3 fs-5"},{default:g(()=>[G,K]),_:1})])],40,H)])}}});var se=A(Q,[["__scopeId","data-v-4601f2ca"]]);export{se as default};
