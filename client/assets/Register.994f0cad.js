import{d as S,r as p,H as E,I as k,J as f,e as R,o as c,c as b,g as n,a as i,F as B,y as I,l as U,u as t,h as w,t as v,f as g,A as N,p as P,b as q}from"./vendor.d86d1c24.js";import{b as A,v as L,a as T}from"./validation.36d38792.js";import{_ as $,a as _}from"./index.4a07ec4a.js";import{C as j}from"./CommonTitle.ff467333.js";import{g as D}from"./axios.377f07d7.js";const h=d=>(P("data-v-7ebb7ca8"),d=d(),q(),d),H={id:"register",class:"page"},J=["onSubmit"],M={class:"alert alert-danger mb-4"},O={class:"form-btns"},z=["disabled"],G=h(()=>i("span",null,"\u{1F4CB}",-1)),K=h(()=>i("span",null,"\u{1F3B2}",-1)),Q=g(" Login"),W=S({setup(d){const u=p(!1),y=E(),V=k("authService"),l=p(!1),m=p([]),e=f({username:"",email:"",password:""}),a=f({username:"",email:"",password:""});function C(){let r=!0;m.value=[],a.username="",a.email="",a.password="",a.username=A(e.username),a.username&&(r=!1),a.email=L(e.email),a.email&&(r=!1),a.password=T(e.password),a.password&&(r=!1),r&&x()}async function x(){try{l.value=!0;const r={username:e.username,email:e.email,password:e.password};(await V.signup(r)).id&&y.push({path:"/login?email="+e.email})}catch(r){const s=D(r);s&&m.value.push(s)}finally{l.value=!1}}return(r,s)=>{const F=R("router-link");return c(),b("div",H,[n(j,{title:"Register"}),i("form",{onSubmit:N(C,["prevent"]),class:"",novalidate:""},[m.value.length?(c(!0),b(B,{key:0},I(m.value,o=>(c(),b("div",M," \u26A0\uFE0F "+v(o),1))),256)):U("",!0),n(_,{wrapClass:"mb-3",label:"Username",id:"username",type:"text",modelValue:t(e).username,"onUpdate:modelValue":s[0]||(s[0]=o=>t(e).username=o),disabled:l.value,required:"",error:t(a).username,description:"3-20 characters long"},null,8,["modelValue","disabled","error"]),n(_,{wrapClass:"mb-3",label:"Email",id:"email",type:"email",modelValue:t(e).email,"onUpdate:modelValue":s[1]||(s[1]=o=>t(e).email=o),disabled:l.value,required:"",error:t(a).email},null,8,["modelValue","disabled","error"]),n(_,{wrapClass:"mb-4",label:"Password",id:"password",type:u.value?"text":"password",modelValue:t(e).password,"onUpdate:modelValue":s[3]||(s[3]=o=>t(e).password=o),disabled:l.value,required:"",error:t(a).password,description:"8-32 characters long"},{button:w(()=>[i("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=o=>u.value=!u.value),"aria-label":"Toggle Show Old Password"},[i("span",null,v(u.value?"\u{1F576}\uFE0F":"\u{1F453}"),1)])]),_:1},8,["type","modelValue","disabled","error"]),i("div",O,[i("button",{type:"submit",class:"btn btn-primary w-100 mb-3 fs-5",disabled:l.value},[G,g(" "+v(l.value?"Loading...":"Register"),1)],8,z),n(F,{to:"/login",class:"btn btn-outline-secondary w-100 mb-3 fs-5"},{default:w(()=>[K,Q]),_:1})])],40,J)])}}});var se=$(W,[["__scopeId","data-v-7ebb7ca8"]]);export{se as default};
